---
title: "Titanic ML Disaster"
author: "John Wangui"
date: "`r Sys.Date()`"
output: openintro::lab_report
---

```{r load-packages, message=FALSE}
library(tidyverse)
library(openintro)
```

### Load data

```{r code-chunk-label}

train <- read.csv("~/projects/r/titanic/train.csv")

test <- read.csv("~/projects/r/titanic/test.csv")

# view structure  of the dataframe
str(train)
```

### Show columns for train data frame.

```{r}
# view column for survived.
table(train$Survived)

# view proportion  for passengers who survived.
prop.table(table(train$Survived))
```
### Assume everyone dies in our test dataframe

```{r}
test$Survived <- rep(0, 418)
```

### Extract passengerID and survived from test data and save to CSV.

```{r}
submit <- data.frame(PassengerId = test$PassengerId, Survived = test$Survived)

write.csv(submit, file = "theyallperish.csv", row.names = FALSE)

```

### Look at the gender of the passengers. Women and children were most likely to be saved first. Look at the propotion of survival based on gender. It's evident more women survived.

```{r}
table(train$Sex)

prop.table(table(train$Sex, train$Survived),1)
```
### In the test df we mark women as survivors

```{r}
test$Survived[test$Sex == 'female'] <- 1

all_women_survive <- data.frame(PassengerId = test$PassengerId, Survived = test$Survived)

write.csv(all_women_survive, file = "allwomensurvive.csv", row.names = FALSE)
```


